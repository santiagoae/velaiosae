<main class="min-h-dvh bg-cyan-800 text-white p-10 flex flex-col text-center">
  <section class="flex flex-col items-center justify-center">
    <h1 class="font-bold uppercase">Tablero de gestión de tareas</h1>
    <p class="text-start mb-5">
      En este tablero podras hacer un seguimiento completo a todas las tareas
      creadas, además de poder gestionarlas.
    </p>
  </section>

  <header class="flex gap-2 mb-10">
    <button
      class="px-2 py-1 min-w-6 rounded-lg bg-green-700 flex items-center justify-center gap-1 mb-6 w-full text-sm"
      type="button"
      (click)="onCreateTask()"
    >
      Agregar Tarea
    </button>
    <button
      class="px-2 py-1 min-w-6 rounded-lg bg-sky-700 flex items-center justify-center gap-1 mb-6 w-full text-sm"
      type="button"
      (click)="onFilterByDoneTasks(true)"
    >
      Cumplidas
    </button>
    <button
      class="px-2 py-1 min-w-6 rounded-lg bg-sky-700 flex items-center justify-center gap-1 mb-6 w-full text-sm"
      type="button"
      (click)="onFilterByDoneTasks(false)"
    >
      Pendientes
    </button>

    @if(allTasksCopy().length){
    <button
      class="px-2 py-1 min-w-6 rounded-lg bg-sky-700 flex items-center justify-center gap-1 mb-6 w-full text-sm"
      type="button"
      (click)="onClearFilter()"
    >
      Limpiar filtro
    </button>
    }
  </header>

  @if(allTasks().length){
  <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
    @for(task of allTasks(); track $index; let indx = $index){
    <article>
      <app-task-card [selectedTask]="task"></app-task-card>
      <div class="flex justify-between gap-4">
        @if(!task.done){
        <button
          class="px-2 py-1 min-w-6 max-w-[260px] rounded-lg bg-green-700 flex items-center justify-center gap-1 w-full mt-2"
          type="button"
          (click)="onSuccessTask(indx)"
        >
          Completar tarea
        </button>
        }

        <button
          class="px-2 py-1 min-w-6 max-w-[260px] rounded-lg bg-sky-600 flex items-center justify-center gap-1 w-full mt-2"
          type="button"
          (click)="onEditTask(indx)"
        >
          Editar tarea
        </button>

        <button
          class="px-2 py-1 min-w-6 max-w-[260px] rounded-lg bg-red-500 flex items-center justify-center gap-1 w-full mt-2"
          type="button"
          (click)="onDeleteTask(indx)"
        >
          Eliminar tarea
        </button>
      </div>
    </article>
    }
  </section>
  }@else {
  <h1 class="text-white font-bold text-2xl text-center">
    No hay tareas disponibles
  </h1>
  }
</main>
